fix (f : tree -> list) =
  fun (x:tree) ->
    match x with
      | Leaf -> Nil
      | Node (l,v,r) -> append (Cons (v, f l)) (f r)